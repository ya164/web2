<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Для моей любимой Дианочки</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --mouse-x: 50%;
            --mouse-y: 50%;
            --primary-color: 255, 105, 180;
            --secondary-color: 138, 43, 226;
            --game-heart-fill: 100%;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #f8f9fa;
            overflow-x: hidden;
            min-height: 100vh;
            cursor: none;
            padding-top: 80px;
            position: relative;
        }

        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
        }

        .cursive {
            font-family: 'Dancing Script', cursive;
        }

        .hidden {
            display: none !important;
        }

        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
            background:
                radial-gradient(circle at var(--mouse-x) var(--mouse-y),
                    rgba(var(--primary-color), 0.15) 0%,
                    transparent 70%),
                radial-gradient(circle at calc(100% - var(--mouse-x)) calc(100% - var(--mouse-y)),
                    rgba(var(--secondary-color), 0.15) 0%,
                    transparent 70%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.05"/></svg>'),
                linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            background-size: cover;
            background-attachment: fixed;
            pointer-events: none;
        }

        .aurora {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background:
                linear-gradient(45deg,
                    rgba(var(--primary-color), 0.08) 0%,
                    rgba(var(--secondary-color), 0.08) 50%,
                    rgba(64, 224, 208, 0.08) 100%);
            opacity: 0.3;
            animation: aurora-shift 20s infinite alternate;
            pointer-events: none;
            background-size: 200% 200%;
        }

        @keyframes aurora-shift {
            0% { transform: scale(1) rotate(0deg); background-position: 0% 50%; }
            50% { transform: scale(1.1) rotate(3deg); background-position: 100% 50%;}
            100% { transform: scale(1) rotate(0deg); background-position: 0% 50%;}
        }

        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.8);
            pointer-events: none;
            mix-blend-mode: difference;
            transform: translate(-50%, -50%);
            z-index: 9999;
            transition: transform 0.2s ease-out, width 0.3s ease, height 0.3s ease;
        }

        .custom-cursor-follower {
            position: fixed;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.5);
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 9998;
            transition: transform 0.4s ease-out, width 0.4s ease, height 0.4s ease;
        }

        .click-ripple {
            position: fixed;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            transform: translate(-50%, -50%) scale(0);
            pointer-events: none;
            z-index: 9997;
            animation: ripple 1s ease-out forwards;
            mix-blend-mode: overlay;
        }

        @keyframes ripple {
            to {
                transform: translate(-50%, -50%) scale(30);
                opacity: 0;
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }

         @keyframes pulse-text {
             0%, 100% { transform: scale(1); opacity: 1; }
             50% { transform: scale(1.02); opacity: 0.9; }
         }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes rotate-reverse { from { transform: rotate(360deg); } to { transform: rotate(0deg); } }

        .floating { animation: float 8s ease-in-out infinite; }
        .floating-fast { animation: float 4s ease-in-out infinite; }
        .floating-slow { animation: float 12s ease-in-out infinite; }
        .pulse { animation: pulse 3s ease-in-out infinite; }
        .rotate-slow { animation: rotate 30s linear infinite; }
        .rotate-fast { animation: rotate 10s linear infinite; }
        .rotate-reverse-slow { animation: rotate-reverse 30s linear infinite; }

        .glass-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
            border-radius: 16px;
            transition: all 0.4s ease;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(16px);
        }

        .hover-glow {
            position: absolute;
            inset: 0;
            border-radius: 16px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 0;
             pointer-events: none;
        }
        .glass-card.group:hover .hover-glow {
            opacity: 1;
        }

        .love-letter {
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.15);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.3);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            transition: all 0.4s ease;
             z-index: 1;
        }

        .love-letter:hover {
            transform: translateY(-5px) rotate(1deg);
            box-shadow: 0 15px 40px rgba(31, 38, 135, 0.4);
        }

        .principle-item {
            position: relative;
            padding-left: 2.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
             z-index: 1;
        }

        .principle-item:hover {
            transform: translateX(10px);
            color: rgba(var(--primary-color), 0.9);
        }

        .principle-item::before {
            content: '❤️';
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .principle-item:hover::before {
            transform: scale(1.2);
            filter: saturate(2);
        }

        .music-player {
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .music-player:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .play-btn {
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
             position: relative; z-index: 2;
        }

        .play-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        nav { z-index: 100; }
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
            color: #f8f9fa;
            opacity: 0.8;
        }
        .nav-link.active, .nav-link:hover {
             opacity: 1;
             color: rgba(var(--primary-color), 1);
             text-shadow: 0 0 8px rgba(var(--primary-color), 0.5);
         }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: rgba(var(--primary-color), 0.8);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }

        .page {
            display: none;
            opacity: 0;
            transition: opacity 0.6s ease, transform 0.6s ease;
            transform: translateY(20px);
             position: relative;
             z-index: 10;
        }

        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .hero-text {
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .floral-divider {
            position: relative;
            height: 30px;
            margin: 2rem 0;
            text-align: center;
             z-index: 1;
        }
        .floral-divider::before {
            content: '❀ ❀ ❀';
            color: rgba(255, 255, 255, 0.5);
            font-size: 1.5rem;
            letter-spacing: 1rem;
        }

        .photo-frame {
             border-radius: 50%;
             padding: 8px;
             background: linear-gradient(135deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
             box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
             animation: rotate 20s linear infinite;
             display: inline-block;
             position: relative;
             z-index: 1;
             animation: none !important; /* Stop rotation */
        }

        .photo-inner {
             border-radius: 50%;
             overflow: hidden;
             border: 3px solid white;
             width: 256px;
             height: 256px;
        }

        .photo-inner .absolute { z-index: 2; }

        .heart-beat { animation: pulse 1.5s ease-in-out infinite; }

        .star {
            position: fixed;
            background-color: white;
            border-radius: 50%;
            animation: pulse 3s infinite alternate;
            z-index: -1;
             pointer-events: none;
        }

        .btn-glow {
             position: relative;
             overflow: hidden;
             z-index: 11;
             transition: all 0.4s ease;
        }

        .btn-glow::before {
             content: '';
             position: absolute;
             top: -50%; left: -50%; width: 200%; height: 200%;
             background: linear-gradient(
                 to bottom right,
                 rgba(255,255,255,0) 0%, rgba(255,255,255,0.1) 30%, rgba(255,255,255,0) 60%
             );
             transform: rotate(30deg);
             transition: all 0.6s ease;
             z-index: -1;
        }
        .btn-glow:hover::before {
             left: 100%; top: 100%;
        }
        .btn-glow:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .interactive-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .text-highlight {
            position: relative;
            display: inline-block;
            z-index: 1;
            transition: color 0.3s ease;
        }

        .text-highlight:hover { color: rgba(var(--primary-color), 0.9); }
        .text-highlight::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0; width: 100%; height: 30%;
            background: linear-gradient(to right, rgba(var(--primary-color),0.3), rgba(var(--secondary-color),0.3));
            z-index: -1;
            transition: all 0.3s ease;
            transform: scaleX(0);
            transform-origin: left;
        }
        .text-highlight:hover::after { transform: scaleX(1); }

        .floating-heart {
            position: fixed;
            color: rgba(var(--primary-color), 0.7);
            animation: float 8s ease-in-out infinite, pulse-text 3s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
            text-shadow: 0 0 10px rgba(var(--primary-color), 0.5);
        }

        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }

        .card-3d:hover {
             transform: rotateY(2deg) rotateX(1deg) translateY(-8px);
             perspective: 1000px;
        }

        .gradient-text {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 300%;
            animation: gradient 8s ease infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .floating-word {
            position: fixed;
            font-family: 'Dancing Script', cursive;
            color: rgba(255, 255, 255, 0.4);
            pointer-events: none;
            z-index: -1;
            animation: float 10s ease-in-out infinite;
            white-space: nowrap;
            text-shadow: 0 0 5px rgba(0,0,0,0.3);
        }

        @keyframes sparkle {
             0% { opacity: 0; transform: scale(0.5) rotate(0deg); }
             50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
             100% { opacity: 0; transform: scale(0.5) rotate(360deg); }
         }

         .sparkle {
             position: fixed;
             width: 4px; height: 4px; border-radius: 50%;
             background: radial-gradient(white, rgba(255,255,255,0.5));
             pointer-events: none;
             z-index: 9999;
             opacity: 0;
             filter: blur(0.5px);
             pointer-events: none;
         }

        @keyframes beam {
             0% { transform: scaleY(0) rotate(var(--beam-rotate, 0deg)); opacity: 0; filter: blur(0); }
             50% { transform: scaleY(1) rotate(var(--beam-rotate, 0deg)); opacity: 0.8; filter: blur(2px); }
             100% { transform: scaleY(0) rotate(var(--beam-rotate, 0deg)); opacity: 0; filter: blur(0); }
        }
        @keyframes beam-h {
             0% { transform: scaleX(0) rotate(var(--beam-rotate, 0deg)); opacity: 0; filter: blur(0); }
             50% { transform: scaleX(1) rotate(var(--beam-rotate, 0deg)); opacity: 0.8; filter: blur(2px); }
             100% { transform: scaleX(0) rotate(var(--beam-rotate, 0deg)); opacity: 0; filter: blur(0); }
         }

        .love-beam {
             position: fixed;
             background: linear-gradient(to bottom, rgba(var(--primary-color),0), rgba(var(--primary-color),0.8), rgba(var(--secondary-color),0.8), rgba(var(--secondary-color),0));
             animation: beam 2s ease-in-out forwards;
             transform-origin: top center;
             opacity: 0;
             pointer-events: none;
             z-index: -1;
             filter: blur(1px);
             width: 4px;
             height: 100vh;
         }
        .love-beam.beam-h {
            background: linear-gradient(to right, rgba(var(--primary-color),0), rgba(var(--primary-color),0.8), rgba(var(--secondary-color),0.8), rgba(var(--secondary-color),0));
            width: 100vw;
            height: 4px;
            animation-name: beam-h;
             transform-origin: left center;
             transform: scaleX(0);
        }

         @keyframes fall {
             0% { transform: translate(-50%, -50%) translateY(var(--fall-y-start, -10vh)) translateX(0px) rotate(var(--initial-rotate, 0deg)) scale(var(--petal-scale, 1)); opacity: 1; }
             100% { transform: translate(-50%, -50%) translateY(var(--fall-y-end, 110vh)) translateX(var(--fall-x-end, 50px)) rotate(calc(var(--initial-rotate, 0deg) + 360deg)) scale(var(--petal-scale, 1)); opacity: 0; }
         }

         .petal {
             position: fixed;
             width: 15px; height: 15px;
             background: rgba(var(--primary-color), 0.6);
             border-radius: 50% 0 50% 50%;
             transform: translate(-50%, -50%) rotate(45deg);
             animation: fall linear infinite;
             z-index: -1;
             pointer-events: none;
             left: var(--petal-left, 50%);
             top: var(--petal-top, -10%);
         }

        .magic-orb {
             position: fixed;
             width: var(--orb-size);
             height: var(--orb-size);
             border-radius: 50%;
             background: radial-gradient(circle at 30% 30%, rgba(var(--primary-color),0.8), rgba(var(--secondary-color),0.4));
             filter: blur(10px);
             animation: orb-float 15s ease-in-out infinite;
             z-index: -1;
             pointer-events: none;
        }
        @keyframes orb-float {
             0%, 100% { transform: translate(0, 0) scale(1); }
             25% { transform: translate(5vw, -3vh) scale(1.1); }
             50% { transform: translate(0, -5vh) scale(0.9); }
             75% { transform: translate(-5vw, -3vh) scale(1.1); }
         }

        .game-container {
            max-width: 700px;
            margin: 0 auto;
             position: relative;
             z-index: 1;
             min-height: calc(100vh - 80px);
             padding-bottom: 40px;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: flex-start;
        }

         #quiz-section {
             width: 100%;
             margin-bottom: 2rem;
             position: relative; z-index: 2;
         }

        .quiz-section .question {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-align: center;
            font-weight: 600;
            animation: pulse-text 3s ease-in-out infinite;
        }
        .quiz-section .answer-option {
             display: block;
             width: 100%;
             padding: 1rem 1.5rem;
             margin-bottom: 1rem;
             border-radius: 8px;
             text-align: left;
             background: rgba(255, 255, 255, 0.1);
             color: #f8f9fa;
             transition: background 0.3s ease, transform 0.2s ease;
             font-size: 1.1rem;
             border: none;
             cursor: pointer;
             position: relative;
             z-index: 1;
             overflow: hidden;
         }

         .answer-option::before {
              content: '';
              position: absolute;
              top: 0; left: -100%; width: 200%; height: 100%;
              background: radial-gradient(circle, rgba(var(--primary-color), 0.4) 0%, transparent 70%);
              opacity: 0;
              transition: all 0.5s ease;
         }
         .answer-option:not(:disabled):hover::before {
              left: 0;
              opacity: 0.5;
         }

        .quiz-section .answer-option:not(:disabled):hover {
             background: rgba(var(--primary-color), 0.3);
             transform: translateX(5px);
             box-shadow: 0 4px 15px rgba(0,0,0,0.2);
         }

         .quiz-section .answer-option:focus {
              outline: none;
              box-shadow: 0 0 0 3px rgba(var(--primary-color), 0.5);
          }

         .quiz-section .answer-option:disabled {
             opacity: 0.6;
             cursor: not-allowed;
         }

          .quiz-answer-correct {
              background: rgba(144, 238, 144, 0.6) !important;
          }
          .quiz-answer-wrong {
               background: rgba(255, 99, 71, 0.6) !important;
          }

         .game-heart-visual {
             position: relative;
             width: 120px;
             height: 120px;
             margin: 2rem auto 0 auto;
             overflow: hidden;
             transition: filter 0.5s ease-out, opacity 0.3s ease-out, box-shadow 0.5s ease;
             filter: saturate(0.1);
             opacity: 1;
             box-shadow: 0 0 15px rgba(var(--primary-color), 0.3);
             display: flex;
             align-items: center;
             justify-content: center;
             font-size: 1.5rem;
             font-weight: bold;
             color: rgba(255, 255, 255, 0.7);
             pointer-events: none;
              z-index: 1;
         }

          .game-heart-visual svg {
              position: absolute;
              top: 0; left: 0; width: 100%; height: 100%;
              z-index: 0;
          }

         .game-heart-visual svg rect {
              transform-origin: bottom;
              transition: transform 0.5s ease-out;
         }

         .game-heart-visual span {
             position: relative; z-index: 1;
         }

          .game-heart-visual svg path[stroke] {
             stroke: rgba(255, 255, 255, 0.5);
         }

         .game-heart-visual.full {
             filter: saturate(1);
             animation: pulse 1.5s ease-in-out infinite;
             box-shadow: 0 0 30px rgba(var(--primary-color), 1);
         }

        .game-completion-section {
             margin-top: 4rem;
             padding: 2rem;
             width: 100%;
             flex-grow: 1;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
             text-align: center;
             position: relative;
              z-index: 1;
        }

         .completion-message {
             font-size: 2rem;
             text-align: center;
             margin-bottom: 3rem;
             font-family: 'Dancing Script', cursive;
             color: rgba(var(--primary-color), 1);
             text-shadow: 0 0 15px rgba(var(--primary-color), 0.6);
             animation: pulse-text 4s ease-in-out infinite;
        }

         .big-heart {
             position: fixed;
             top: 50%;
             left: 50%;
             width: 120px;
             height: 120px;
             transform: translate(-50%, -50%) scale(0);
             opacity: 0;
             transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
             z-index: 60;
             pointer-events: none;
             cursor: pointer;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
         }

         .big-heart.active {
             width: min(80vh, 80vw, 400px);
             height: min(80vh, 80vw, 400px);
             transform: translate(-50%, -50%) scale(1);
             opacity: 1;
             pointer-events: auto;
             animation: heart-float-pulse 6s ease-in-out infinite;
             transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.5s ease 0.8s;
         }
          @keyframes heart-float-pulse {
             0%, 100% { transform: translate(-50%, -50%) scale(1); filter: drop-shadow(0 0 15px rgba(var(--primary-color), 0.7)); }
             50% { transform: translate(-50%, -50%) scale(1.05); filter: drop-shadow(0 0 25px rgba(var(--secondary-color), 0.8));}
         }
        .big-heart.tapping {
             transform: translate(-50%, -50%) scale(0.97) !important;
             animation-play-state: paused;
        }

         .big-heart-svg {
             width: 100%;
             height: 100%;
             fill: url(#gradient-heart);
             filter: drop-shadow(0 0 10px rgba(var(--primary-color), 0.7));
             transition: filter 0.2s ease, transform 0.1s ease;
         }

         .click-counter {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 15px rgba(0,0,0,0.6), 0 0 8px rgba(var(--primary-color),0.4);
            pointer-events: none;
             z-index: 2;
             animation: pulse-text 2s ease-out infinite alternate;
         }

        @keyframes float-up-from-point {
             0% { transform: translate(-50%, -50%) translate(var(--origin-x, 0), var(--origin-y, 0)) scale(0.5); opacity: 1; }
             100% { transform: translate(-50%, -50%) translate(var(--origin-x, 0), var(--origin-y, 0)) translateY(var(--float-distance-y, -200px)) translateX(var(--float-distance-x, 0px)) scale(1.5); opacity: 0; }
         }
         .floating-heart-burst {
             position: fixed;
             font-size: 24px;
              color: rgba(var(--primary-color), 0.8);
              text-shadow: 0 0 8px rgba(var(--primary-color), 0.6);
             animation: float-up-from-point var(--float-burst-duration, 2s) linear forwards;
             pointer-events: none;
             z-index: 90;
         }

         .page .absolute[style*="position: fixed"] {
            position: fixed !important;
            z-index: -1 !important;
            pointer-events: none !important;
        }

        .photo-frame .absolute { position: absolute !important; z-index: 2 !important; pointer-events: none !important; }

        @media (max-width: 767px) {
            .quiz-section .question {
                 font-size: 1.5rem;
             }
            .quiz-section .answer-option {
                 font-size: 1rem;
                 padding: 0.8rem 1rem;
             }
            .completion-message {
                 font-size: 1.5rem;
             }
             .click-counter {
                 font-size: 3rem;
             }
             .big-heart.active {
                width: min(90vh, 90vw, 400px);
                height: min(90vh, 90vw, 400px);
             }
        }
    </style>
</head>
<body class="min-h-screen overflow-x-hidden">
    <div class="cosmic-bg" id="cosmic-bg"></div>
    <div class="aurora"></div>
    <div class="custom-cursor" id="cursor"></div>
    <div class="custom-cursor-follower" id="cursor-follower"></div>
     <div class="constellation" id="constellation"></div>

    <div class="floating-heart" style="top: 20%; left: 10%; font-size: 3rem; animation-delay: 0.5s;">❤️</div>
    <div class="floating-heart" style="top: 70%; left: 85%; font-size: 4rem; animation-delay: 1.5s;">❤️</div>
    <div class="floating-heart" style="top: 30%; left: 80%; font-size: 2.5rem; animation-delay: 2.5s;">❤️</div>
    <div class="floating-heart" style="top: 80%; left: 15%; font-size: 3.5rem; animation-delay: 3.5s;">❤️</div>
    <div class="floating-heart" style="top: 5%; left: 50%; font-size: 3rem; animation-delay: 4.5s;">❤️</div>
    <div class="floating-heart" style="top: 40%; left: 30%; font-size: 2rem; animation-delay: 5s; color: rgba(var(--secondary-color), 0.7);">💖</div>
    <div class="floating-heart" style="top: 60%; left: 70%; font-size: 2.8rem; animation-delay: 6s; color: rgba(var(--secondary-color), 0.7);">💖</div>

    <div class="magic-orb" style="top: 20%; left: 10%; --orb-size: 150px; animation-delay: 0s;"></div>
    <div class="magic-orb" style="top: 70%; left: 80%; --orb-size: 120px; animation-delay: 3s;"></div>
    <div class="magic-orb" style="top: 45%; left: 45%; --orb-size: 100px; animation-delay: 6s;"></div>

    <canvas class="interactive-canvas" id="interactive-canvas"></canvas>
     <div id="love-beam-container"></div>
     <div id="petals-container"></div>
    <div id="heart-burst-container"></div>

     <svg width="0" height="0" style="position:absolute; z-index: -1;">
       <linearGradient id="gradient-heart" x1="0%" y1="0%" x2="0%" y2="100%">
         <stop offset="0%" style="stop-color:rgb(255,105,180);stop-opacity:1" />
         <stop offset="50%" style="stop-color:rgb(200,50,100);stop-opacity:1" />
         <stop offset="100%" style="stop-color:rgb(138,43,226);stop-opacity:1" />
       </linearGradient>

          <mask id="filling-heart-mask">
              <path fill="white" d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"/>
          </mask>
      </svg>

    <nav class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-50 backdrop-blur-md py-4 shadow-xl">
        <div class="container mx-auto px-6 flex flex-wrap justify-center space-x-4 md:space-x-10">
            <button onclick="showPage('home')" class="nav-link px-2 md:px-4 py-2 text-base md:text-lg font-medium" id="nav-home">
                <i class="fas fa-home mr-1 md:mr-2"></i> Главная
            </button>
            <button onclick="showPage('art')" class="nav-link px-2 md:px-4 py-2 text-base md:text-lg font-medium" id="nav-art">
                <i class="fas fa-paint-brush mr-1 md:mr-2"></i> Ты - искусство
            </button>
            <button onclick="showPage('letter')" class="nav-link px-2 md:px-4 py-2 text-base md:text-lg font-medium" id="nav-letter">
                <i class="fas fa-heart mr-1 md:mr-2"></i> Письмо
            </button>
             <button onclick="showPage('game')" class="nav-link px-2 md:px-4 py-2 text-base md:text-lg font-medium" id="nav-game">
                <i class="fas fa-gamepad mr-1 md:mr-2"></i> Игра
            </button>
        </div>
    </nav>

    <div id="home" class="page active pt-12 md:pt-32 pb-20 relative z-10">
        <div class="container mx-auto px-6">
            <div class="max-w-4xl mx-auto text-center mb-16">
                <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-8 hero-text gradient-text">
                    Привет, моя любимая <i class="fas fa-heart heart-beat text-red-400"></i>
                </h1>
                <p class="text-xl md:text-2xl mb-10 leading-relaxed font-light max-w-2xl mx-auto">
                    Это место, где время останавливается, а чувства оживают в каждой строчке, в каждом кадре, в каждой детали...
                </p>

                <div class="flex justify-center mb-16">
                    <div class="photo-frame floating relative mx-auto">
                        <div class="photo-inner relative overflow-hidden">
                            <!-- Заменили placeholder-заглушку на тег <img> -->
                            <!-- Укажите здесь реальный путь к вашей фотографии -->
                            <img src="photo/CrosshairX_X2WszmttBF.png" alt="Любимая Дианочка" class="w-full h-full object-cover">
                        </div>
                        <!-- Декоративные элементы вокруг рамки (оставлены статичными) -->
                        <div class="absolute -top-2 -left-2 w-4 h-4 md:w-6 md:h-6 rounded-full bg-white opacity-70 blur-sm animate-spin rotate-fast" style="animation-duration: 4s; animation: none !important;"></div>
                        <div class="absolute -bottom-2 -right-2 w-3 h-3 md:w-5 md:h-5 rounded-full bg-pink-300 opacity-70 blur-sm animate-spin rotate-fast" style="animation-duration: 5s; animation-delay: 1s; animation: none !important;"></div>
                        <div class="absolute top-1/2 -left-4 w-5 h-5 rounded-full bg-purple-300 opacity-60 blur-sm animate-spin rotate-reverse-slow" style="animation-duration: 6s; animation-delay: 0.5s; animation: none !important;"></div>
                     </div>
                </div>

                <div class="glass-card p-6 md:p-8 max-w-2xl mx-auto card-3d relative overflow-hidden group">
                     <div class="hover-glow bg-gradient-to-br from-purple-400 via-pink-400 to-red-400"></div>
                    <p class="text-xl md:text-2xl mb-6 leading-relaxed font-light relative z-10">
                        В этом мире, полном суеты, ты - моя <span class="text-highlight">тихая гавань</span>, мой <span class="text-highlight">космос</span>, моя <span class="text-highlight">вселенная</span>.
                    </p>
                    <p class="text-xl md:text-2xl leading-relaxed relative z-10">
                        Листай дальше, чтобы узнать, как сильно ты для меня значишь...
                    </p>
                </div>
            </div>

            <div class="flex justify-center mt-16">
                <button onclick="showPage('art')" class="btn-glow px-8 md:px-10 py-3 md:py-4 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium text-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-300 flex items-center shadow-xl relative">
                    <span class="relative z-10 flex items-center">
                        <i class="fas fa-paint-brush mr-2 md:mr-3"></i> Ты - искусство
                    </span>
                </button>
            </div>
        </div>

         <div class="rotate-reverse-slow opacity-50" style="position: fixed !important; top: 15vh; left: 5vw; font-size: 4rem; z-index: -1 !important;">
             <i class="fas fa-sparkles text-blue-300"></i>
         </div>
          <div class="floating-fast opacity-60" style="position: fixed !important; bottom: 10vh; right: 15vw; font-size: 3.5rem; z-index: -1 !important;">
             <i class="fas fa-star text-yellow-300"></i>
         </div>
     </div>

    <div id="art" class="page pt-12 md:pt-32 pb-20 relative z-10">
        <div class="container mx-auto px-6">
            <div class="max-w-5xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-bold mb-12 md:mb-16 text-center hero-text gradient-text">
                    <i class="fas fa-palette mr-4"></i> Ты - как искусство
                </h2>

                <div class="grid md:grid-cols-2 gap-8 mb-16">
                    <div class="glass-card p-6 md:p-8 hover:bg-opacity-20 transition-all duration-300 card-3d relative group">
                        <div class="hover-glow bg-pink-500 opacity-0"></div>
                        <div class="flex items-center mb-4 relative z-10">
                            <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-pink-500 bg-opacity-20 flex items-center justify-center mr-4 pulse">
                                <i class="fas fa-paint-brush text-pink-300 text-xl"></i>
                            </div>
                            <h3 class="text-xl md:text-2xl font-semibold text-pink-200">Как картина великого мастера</h3>
                        </div>
                        <p class="text-base md:text-lg mb-4 leading-relaxed relative z-10">
                            Ты - как самая прекрасная картина, которую я когда-либо видел. Каждый твой жест, каждая улыбка - это мазки гениального художника.
                        </p>
                        <p class="text-base md:text-lg leading-relaxed relative z-10">
                            Я мог бы смотреть на тебя вечно, открывая новые детали, новые оттенки, новую глубину.
                        </p>
                    </div>

                    <div class="glass-card p-6 md:p-8 hover:bg-opacity-20 transition-all duration-300 card-3d relative group">
                         <div class="hover-glow bg-purple-500 opacity-0"></div>
                        <div class="flex items-center mb-4 relative z-10">
                            <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-purple-500 bg-opacity-20 flex items-center justify-center mr-4 pulse">
                                <i class="fas fa-music text-purple-300 text-xl"></i>
                            </div>
                            <h3 class="text-xl md:text-2xl font-semibold text-purple-200">Как мелодия, что трогает душу</h3>
                        </div>
                        <p class="text-base md:text-lg mb-4 leading-relaxed relative z-10">
                            Твой голос - самая прекрасная музыка, которую я когда-либо слышал. Он звучит во мне даже в тишине.
                        </p>
                        <p class="text-base md:text-lg leading-relaxed relative z-10">
                            Как мелодия, которая не отпускает, которая становится частью тебя.
                        </p>
                    </div>

                    <div class="glass-card p-6 md:p-8 hover:bg-opacity-20 transition-all duration-300 card-3d relative group">
                         <div class="hover-glow bg-blue-500 opacity-0"></div>
                        <div class="flex items-center mb-4 relative z-10">
                            <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-blue-500 bg-opacity-20 flex items-center justify-center mr-4 pulse">
                                <i class="fas fa-pen-fancy text-blue-300 text-xl"></i>
                            </div>
                            <h3 class="text-xl md:text-2xl font-semibold text-blue-200">Как стихи, написанные сердцем</h3>
                        </div>
                        <p class="text-base md:text-lg mb-4 leading-relaxed relative z-10">
                            Ты - как самые проникновенные стихи, где каждое слово на вес золота, где каждая строчка - откровение.
                        </p>
                        <p class="text-base md:text-lg leading-relaxed relative z-10">
                            Я перечитываю тебя снова и снова, находя новые смыслы, новую красоту.
                        </p>
                    </div>

                    <div class="glass-card p-6 md:p-8 hover:bg-opacity-20 transition-all duration-300 card-3d relative group">
                         <div class="hover-glow bg-yellow-500 opacity-0"></div>
                        <div class="flex items-center mb-4 relative z-10">
                            <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-yellow-500 bg-opacity-20 flex items-center justify-center mr-4 pulse">
                                <i class="fas fa-gem text-yellow-300 text-xl"></i>
                            </div>
                            <h3 class="text-xl md:text-2xl font-semibold text-yellow-200">Как самый драгоценный бриллиант</h3>
                        </div>
                        <p class="text-base md:text-lg mb-4 leading-relaxed relative z-10">
                            Ты сверкаешь всеми гранями своей души, переливаясь разными оттенками, играя светом.
                        </p>
                        <p class="text-base md:text-lg leading-relaxed relative z-10">
                            И с каждым днем ты становишься только ценнее, только прекраснее.
                        </p>
                    </div>
                </div>

                <div class="mb-16 md:mb-20">
                    <div class="floral-divider"></div>
                    <h3 class="text-3xl md:text-4xl font-bold mb-8 md:mb-12 text-center hero-text gradient-text">
                        <i class="fas fa-music mr-3"></i> Как я вижу тебя, как музыку
                    </h3>

                    <div class="music-player glass-card p-6 mb-6 card-3d relative group">
                        <div class="hover-glow bg-pink-500 opacity-0"></div>
                         <div class="flex flex-col md:flex-row items-center gap-6 relative z-10">
                            <div class="w-full md:w-1/3 flex justify-center">
                                 <div class="rounded-xl overflow-hidden shadow-xl w-40 h-40 relative">
                                     <img src="https://th.bing.com/th/id/R.5ef1ec2a1b0b0481f9c1f7f300dbff69?rik=orm01hDXuXyidQ&pid=ImgRaw&r=0" alt="My Type Cover" class="w-full h-full object-cover">
                                    <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer" onclick="togglePlay('audio1', 'playBtn1', 'overlayPlayBtn1')">
                                        <div class="w-14 h-14 rounded-full bg-pink-600 bg-opacity-80 flex items-center justify-center">
                                             <i id="overlayPlayBtn1" class="fas fa-play text-white text-xl"></i>
                                         </div>
                                     </div>
                                </div>
                             </div>
                             <div class="w-full md:w-2/3 text-center md:text-left">
                                 <h4 class="text-2xl font-bold mb-3 text-pink-200">Saint Motel - My Type</h4>
                                <div class="flex items-center justify-center md:justify-start mb-5">
                                     <audio id="audio1" src="audio/01%20My%20Type.mp3" preload="auto"></audio>
                                     <button onclick="togglePlay('audio1', 'playBtn1', 'overlayPlayBtn1')" id="playBtn1" class="play-btn mr-5 w-12 h-12 rounded-full bg-pink-600 text-white flex items-center justify-center shadow-lg hover:bg-pink-700 transition-colors duration-300">
                                         <i class="fas fa-play text-xl"></i>
                                     </button>
                                    <a href="https://open.spotify.com/track/2Iq6HhIquO7JKr0KfTNLzU?si=ba8d7e18cf4c48bc" target="_blank" class="text-sm text-gray-300 hover:text-white transition-colors duration-300">
                                        <i class="fab fa-spotify mr-2 text-lg"></i> Открыть в Spotify
                                    </a>
                                </div>
                                <p class="text-base md:text-lg mb-4 leading-relaxed">
                                    "My Type" играет, и знаешь что? Это про тебя. Ты та, кого я бы выделил из миллиона. Ты не просто мой тип. Ты - мой идеал.
                                </p>
                                <p class="text-base md:text-lg leading-relaxed">
                                    В тебе идеально всё: то, как ты смеёшься, заставляя весь мир звучать в унисон; как ты идёшь, не замечая, что оставляешь за собой ослепительный шлейф красоты; как ты просто есть. Ты - не просто мой тип. Ты - моё всё.
                                </p>
                             </div>
                         </div>
                     </div>

                    <div class="music-player glass-card p-6 mb-6 card-3d relative group">
                        <div class="hover-glow bg-purple-500 opacity-0"></div>
                         <div class="flex flex-col md:flex-row items-center gap-6 relative z-10">
                            <div class="w-full md:w-1/3 flex justify-center">
                                 <div class="rounded-xl overflow-hidden shadow-xl w-40 h-40 relative">
                                     <img src="data:image/jpeg;base64,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" alt="Redbone Cover" class="w-full h-full object-cover">
                                    <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer" onclick="togglePlay('audio2', 'playBtn2', 'overlayPlayBtn2')">
                                        <div class="w-14 h-14 rounded-full bg-purple-600 bg-opacity-80 flex items-center justify-center">
                                             <i id="overlayPlayBtn2" class="fas fa-play text-white text-xl"></i>
                                        </div>
                                    </div>
                                 </div>
                            </div>
                             <div class="w-full md:w-2/3 text-center md:text-left">
                                 <h4 class="text-2xl font-bold mb-3 text-purple-200">Pizza - Улыбка</h4>
                                <div class="flex items-center justify-center md:justify-start mb-5">
                                    <audio id="audio2" src="audio/pizza_-_ulybka_muzrecord.net.mp3" preload="auto"></audio>
                                    <button onclick="togglePlay('audio2', 'playBtn2', 'overlayPlayBtn2')" id="playBtn2" class="play-btn mr-5 w-12 h-12 rounded-full bg-purple-600 text-white flex items-center justify-center shadow-lg hover:bg-purple-700 transition-colors duration-300">
                                         <i class="fas fa-play text-xl"></i>
                                    </button>
                                     <a href="https://open.spotify.com/track/0bXwscRPxfc5fTfNjjfGJP?si=35bbeb2e7a5742b0" target="_blank" class="text-sm text-gray-300 hover:text-white transition-colors duration-300">
                                        <i class="fab fa-spotify mr-2 text-lg"></i> Открыть в Spotify
                                    </a>
                                </div>
                                 <p class="text-base md:text-lg mb-4 leading-relaxed">
                                     "Та была улыбка похожа на рай…" Именно так я вспоминаю тебя. Улыбка, которую не забыть, аромат волос, который останется в памяти даже сквозь годы.
                                </p>
                                 <p class="text-base md:text-lg leading-relaxed">
                                    Ты появилась - и будто разобрала мою душу на части. Лёгкая, как сон, Опасная, как буря, Настоящая, как рассвет. Ты врываешься, как красный закат на фоне синей мглы. Любовь к тебе - это буря. Это стихия. Это край света.
                                 </p>
                             </div>
                         </div>
                    </div>

                     <div class="music-player glass-card p-6 mb-6 card-3d relative group">
                         <div class="hover-glow bg-blue-500 opacity-0"></div>
                         <div class="flex flex-col md:flex-row items-center gap-6 relative z-10">
                             <div class="w-full md:w-1/3 flex justify-center">
                                 <div class="rounded-xl overflow-hidden shadow-xl w-40 h-40 relative">
                                      <img src="https://images.genius.com/c43603de619f9cd7b44acaf41e7bbe82.300x300x1.jpg" alt="Out of My League Cover" class="w-full h-full object-cover">
                                     <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer" onclick="togglePlay('audio3', 'playBtn3', 'overlayPlayBtn3')">
                                         <div class="w-14 h-14 rounded-full bg-blue-600 bg-opacity-80 flex items-center justify-center">
                                              <i id="overlayPlayBtn3" class="fas fa-play text-white text-xl"></i>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                             <div class="w-full md:w-2/3 text-center md:text-left">
                                  <h4 class="text-2xl font-bold mb-3 text-blue-200">Fitz and The Tantrums - Out of My League</h4>
                                 <div class="flex items-center justify-center md:justify-start mb-5">
                                     <audio id="audio3" src="audio/Fitz%20and%20The%20Tantrums%20-%20Out%20Of%20My%20League%20(HD).mp3" preload="auto"></audio>
                                     <button onclick="togglePlay('audio3', 'playBtn3', 'overlayPlayBtn3')" id="playBtn3" class="play-btn mr-5 w-12 h-12 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors duration-300">
                                         <i class="fas fa-play text-xl"></i>
                                     </button>
                                     <a href="https://open.spotify.com/track/5qEn8c0MBzyRKgQq91Vevi?si=157e93da2e3a4c91" target="_blank" class="text-sm text-gray-300 hover:text-white transition-colors duration-300">
                                         <i class="fab fa-spotify mr-2 text-lg"></i> Открыть в Spotify
                                     </a>
                                 </div>
                                 <p class="text-base md:text-lg mb-4 leading-relaxed">
                                     "More than just a dream…" С первого нашего момента я понял - ты невероятная. И каждый день с тобой я чувствую, что мне дали что-то, чего я, возможно, даже не заслуживал.
                                 </p>
                                 <p class="text-base md:text-lg leading-relaxed">
                                     Ты - слишком прекрасна, слишком умна, слишком настоящая. Ты - вне моей лиги. Но ты здесь. И ты выбираешь быть со мной. С тобой - как в песне: "You're out of my league, got my heartbeat racing..." Моё сердце бьётся быстрее каждый раз, когда ты рядом. Как будто каждый раз - первое свидание. Ты - больше, чем мечта. Ты - моё чудо.
                                 </p>
                             </div>
                         </div>
                     </div>
                </div>

                <div class="text-center mt-12">
                    <button onclick="showPage('letter')" class="btn-glow px-8 md:px-10 py-3 md:py-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-medium text-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-300 flex items-center mx-auto shadow-xl relative">
                        <span class="relative z-10 flex items-center">
                            <i class="fas fa-envelope mr-2 md:mr-3"></i> Прочитать письмо
                        </span>
                    </button>
                </div>
            </div>
        </div>
         <div class="rotate-reverse-slow opacity-50" style="position: fixed !important; top: 5vh; right: 10vw; font-size: 5rem; z-index: -1 !important;">
             <i class="fas fa-palette text-purple-300"></i>
         </div>
         <div class="rotate-slow opacity-60" style="position: fixed !important; bottom: 5vh; left: 10vw; font-size: 5.5rem; animation-direction: reverse; z-index: -1 !important;">
             <i class="fas fa-music text-pink-300"></i>
         </div>
         <div class="floating-fast opacity-60" style="position: fixed !important; top: 50vh; right: 5vw; font-size: 4rem; z-index: -1 !important;">
             <i class="fas fa-gem text-yellow-300"></i>
         </div>
         <div class="floating-slow opacity-60" style="position: fixed !important; bottom: 50vh; left: 5vw; font-size: 3.5rem; z-index: -1 !important;">
            <i class="fas fa-pen-fancy text-blue-300"></i>
         </div>
     </div>

    <div id="letter" class="page pt-12 md:pt-32 pb-20 relative z-10">
        <div class="container mx-auto px-6">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-bold mb-12 md:mb-16 text-center hero-text gradient-text">
                    <i class="fas fa-heart mr-4"></i> Для моей самой родной, любимой и невероятной бусинки – Дианочки
                </h2>

                <div class="love-letter p-8 md:p-12 mb-12 card-3d relative group">
                    <div class="absolute inset-0 overflow-hidden">
                        <div class="absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-pink-400 opacity-10 blur-3xl pulse"></div>
                        <div class="absolute bottom-1/4 right-1/4 w-32 h-32 rounded-full bg-purple-400 opacity-10 blur-3xl pulse" style="animation-delay: 2s;"></div>
                    </div>

                    <div class="text-center mb-10 md:mb-12 relative z-10">
                        <span class="text-5xl md:text-6xl text-pink-300 pulse">💌</span>
                    </div>

                    <p class="text-lg md:text-xl mb-6 md:mb-8 leading-relaxed font-light relative z-10">
                        Любимая моя девочка.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Сложно подобрать слова, чтобы выразить всё, что я чувствую к тебе. Я пытался это сделать много раз - фразами, признаниями, короткими посланиями… но все они лишь попытки прикоснуться к глубине, которая живёт внутри меня. Потому что ты - не просто человек в моей жизни. Ты - и есть моя жизнь.
                    </p>

                    <p class="text-xl md:text-2xl mb-6 md:mb-8 leading-relaxed font-medium text-pink-200 italic relative z-10">
                        Ты - та самая. Единственная.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Ты - моё настоящее, моё будущее, моя вечность.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Я люблю тебя давно, искренне и сильно. Эти чувства не ослабли с течением времени - наоборот, они стали крепче, глубже, ярче.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Каждый день с тобой в мыслях. Ты - первая и последняя мысль в сутках.
                    </p>

                    <p class="text-base md:text-lg mb-10 md:mb-12 leading-relaxed relative z-10">
                        Ты стала центром моей вселенной, солнцем, вокруг которого вращается всё во мне.
                    </p>

                    <div class="floral-divider"></div>

                    <h3 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 hero-text gradient-text relative z-10">
                        Мы с тобой прошли многое.
                    </h3>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Мы прошли через боль. Через сомнения. Через тени прошлого.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Мы выстояли, когда казалось, что силы заканчиваются. Мы не отвернулись друг от друга - наоборот, мы шли навстречу, несмотря на все трудности.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Тот этап, когда между нами был ещё кто-то - да, это было самое сложное. Но мы пережили. Мы не сдались. И доказали, что наша связь сильнее любых обстоятельств.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Я до сих пор помню, какой ты была тогда - напуганной, закрытой, раненой.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Но я с тобой был рядом. Всегда.
                    </p>

                    <p class="text-base md:text-lg mb-10 md:mb-12 leading-relaxed relative z-10">
                        Незаметно, нежно, терпеливо помогал тебе исцелиться. Доказывал, что любовь может быть безопасной, тёплой, настоящей.
                        И ты раскрылась.
                        Ты позволила себе быть любимой. И полюбить в ответ.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        Ты невероятная. С каждым днём ты становилась ближе к себе настоящей, все больше и больше доверяя мне.
                        И я восхищаюсь тобой.
                    </p>

                    <p class="text-base md:text-lg mb-10 md:mb-12 leading-relaxed relative z-10">
                        Ты - красивее всей вселенной, красивее Афродиты, красивее любой богини.
                        Ты - моя богиня. Не выдуманная, не мифическая. А настоящая. Живая. Та, которую я обожаю каждым миллиметром души.
                    </p>

                    <div class="floral-divider"></div>

                    <h3 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 hero-text gradient-text relative z-10">
                        Я верю: впереди у нас много хорошего.
                    </h3>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        И даже если будут сложности - мы справимся.
                    </p>

                    <p class="text-base md:text-lg mb-10 md:mb-12 leading-relaxed relative z-10">
                        Мы с тобой уже закалены. У нас не «идеальная» история - у нас реальная, сильная, настоящая.
                        И она делает нас крепче. Мы уже доказали, что можем пройти что угодно.
                        И будем проходить, рука об руку.
                        Потому что нас не разрушить.
                    </p>

                    <div class="floral-divider"></div>

                    <h3 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 hero-text gradient-text relative z-10">
                        Ты изменила мою жизнь.
                    </h3>

                    <p class="text-base md:text-lg mb-10 md:mb-12 leading-relaxed relative z-10">
                        Ты дала мне смысл. Ты - та, ради кого хочется просыпаться, дышать, стараться, меняться.
                        Если бы не ты - я даже не знаю, где бы я был. И был бы ли вообще.
                        Ты вытащила меня из темноты.
                        Ты - моя надежда, моя опора, мой свет.
                    </p>

                    <div class="floral-divider"></div>

                    <h3 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 hero-text gradient-text relative z-10">
                        Моя любовь к тебе - это больше, чем чувства.
                    </h3>

                    <p class="text-base md:text-lg mb-6 leading-relaxed relative z-10">
                        Это принципы, которым я верен:
                    </p>

                    <ol class="space-y-6 mb-10 md:mb-12 relative z-10">
                        <li class="principle-item text-base md:text-lg">Ты - моё всё. Без тебя моя жизнь теряет смысл.</li>
                        <li class="principle-item text-base md:text-lg">Я всегда рядом. Мысли, душа, тело - я всегда с тобой.</li>
                        <li class="principle-item text-base md:text-lg">Ты - моя вечность. Я хочу быть с тобой навсегда.</li>
                        <li class="principle-item text-base md:text-lg">Ты самая красивая в мире. И я не просто так говорю - это так и есть.</li>
                        <li class="principle-item text-base md:text-lg">Ты - уникальна. Я люблю и восхищаюсь каждой частью тебя. Не принимаю "как есть" - я в восторге.</li>
                        <li class="principle-item text-base md:text-lg">Я благодарен судьбе. За каждую секунду, что мы провели вместе.</li>
                        <li class="principle-item text-base md:text-lg">Ты - мой дом. Моё спокойствие. Моё тепло.</li>
                        <li class="principle-item text-base md:text-lg">Ты вдохновляешь. С тобой я хочу быть лучше.</li>
                        <li class="principle-item text-base md:text-lg">Ты - центр моего мира. Все мои решения - через тебя.</li>
                        <li class="principle-item text-base md:text-lg">Ты никогда не одна. Даже если физически далеко - я рядом.</li>
                        <li class="principle-item text-base md:text-lg">Ты делаешь меня счастливым просто фактом своего существования.</li>
                        <li class="principle-item text-base md:text-lg">Я пройду через всё. Лишь бы быть рядом.</li>
                        <li class="principle-item text-base md:text-lg">Ты - моя вечность, моя Дианочка.</li>
                    </ol>

                    <div class="floral-divider"></div>

                    <h3 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 hero-text gradient-text relative z-10">
                        Я хочу быть с тобой в каждую минуту твоей жизни.
                    </h3>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        В дни, когда тебе хорошо - чтобы делить радость.
                    </p>

                    <p class="text-base md:text-lg mb-6 md:mb-8 leading-relaxed relative z-10">
                        В дни, когда тебе плохо - чтобы поддерживать и быть твоей опорой.
                    </p>

                    <p class="text-base md:text-lg mb-10 md:mb-12 leading-relaxed relative z-10">
                        В обычные дни - чтобы просто быть рядом.
                        Хочу быть твоим утром, днём и вечером.
                        Твоей уверенностью. Твоим спокойствием. Твоим навсегда.
                    </p>

                    <div class="text-center relative z-10">
                        <p class="text-xl md:text-2xl mb-4 md:mb-6 font-medium">
                            Ты - моя бусинка.
                        </p>

                        <p class="text-xl md:text-2xl mb-4 md:mb-6 font-medium">
                            Ты - моё чудо.
                        </p>

                        <p class="text-xl md:text-2xl mb-6 md:mb-8 font-medium">
                            Ты - любовь всей моей жизни.
                        </p>

                        <p class="text-base md:text-lg mb-8 md:mb-10">
                            И даже этих слов мало, чтобы передать, насколько сильно и глубоко я тебя люблю.
                        </p>

                        <p class="text-2xl md:text-3xl mt-10 md:mt-12 font-semibold text-pink-200">
                            Навсегда твой.
                        </p>
                    </div>
                </div>
                <div class="text-center mt-12">
                    <button onclick="showPage('game')" class="btn-glow px-8 md:px-10 py-3 md:py-4 rounded-full bg-gradient-to-r from-pink-500 to-red-500 text-white font-medium text-lg transition-all duration-300 flex items-center mx-auto shadow-xl relative">
                         <span class="relative z-10 flex items-center">
                            <i class="fas fa-gamepad mr-2 md:mr-3"></i> Пройти игру
                        </span>
                    </button>
                </div>
            </div>
        </div>
         <div class="floating-fast opacity-70" style="position: fixed !important; top: 10vh; left: 15vw; font-size: 3.5rem; animation-delay: 0.5s; z-index: -1 !important;">
             <i class="fas fa-heart text-pink-300"></i>
         </div>
         <div class="heart-beat opacity-80" style="position: fixed !important; bottom: 10vh; right: 15vw; font-size: 4rem; animation-delay: 1s; z-index: -1 !important;">
             <i class="fas fa-heartbeat text-red-300"></i>
         </div>
         <div class="floating-slow opacity-60" style="position: fixed !important; top: 50vh; right: 5vw; font-size: 3rem; animation-delay: 1.8s; z-index: -1 !important;">
             <i class="fas fa-hand-holding-heart text-purple-300"></i>
         </div>
     </div>

    <div id="game" class="page pt-12 md:pt-32 pb-20 relative z-10">
        <div class="container mx-auto px-6 game-container">
              <h2 class="text-4xl md:text-5xl font-bold mb-8 md:mb-12 text-center hero-text gradient-text">
                <i class="fas fa-gamepad mr-4"></i> Игра для моей бусинки
            </h2>

            <div id="quiz-section" class="glass-card p-6 md:p-8 max-w-lg mx-auto relative z-10 group">
                <div class="hover-glow bg-blue-400 opacity-0"></div>
                <p class="question mb-8 relative z-10" id="quiz-question"></p>
                <div class="answers grid gap-4 relative z-10" id="quiz-answers">
                </div>
            </div>

             <div class="game-heart-visual" id="game-heart-visual">
                  <span id="visual-heart-icon-text" class="relative z-10"><i class="fas fa-question text-3xl opacity-80"></i></span>
                  <svg class="absolute inset-0 w-full h-full pointer-events-none" viewBox="0 0 24 24">
                     <path d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"
                           fill="none" stroke="rgba(255, 255, 255, 0.5)" stroke-width="1.5" vector-effect="non-scaling-stroke"/>

                      <rect x="0" y="0" width="24" height="24" fill="rgba(var(--primary-color), 0.8)" mask="url(#filling-heart-mask)" style="transform-origin: bottom; transform: translateY(var(--game-heart-fill)); transition: transform 0.8s ease-out;"/>
                       <rect x="0" y="0" width="24" height="24" fill="rgba(var(--secondary-color), 0.8)" mask="url(#filling-heart-mask)" style="transform-origin: bottom; transform: translateY(calc(var(--game-heart-fill) + 8%)); transition: transform 0.9s ease-out; opacity: 0.7;"/>

                  </svg>
             </div>

            <div id="game-completion-section" class="game-completion-section hidden">
                 <p class="completion-message"></p>
                 <div id="big-heart" class="big-heart">
                     <svg class="big-heart-svg" viewBox="0 0 24 24">
                         <path d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"/>
                     </svg>
                    <span id="click-counter" class="click-counter">0</span>
                </div>
             </div>
         </div>
         <div class="rotate-fast opacity-60" style="position: fixed !important; top: 10vh; left: 20vw; font-size: 5rem; animation-delay: 0.3s; z-index: -1 !important;">
             <i class="fas fa-dice text-blue-300"></i>
         </div>
          <div class="floating opacity-70" style="position: fixed !important; bottom: 10vh; right: 20vw; font-size: 6rem; animation-delay: 1s; z-index: -1 !important;">
            <i class="fas fa-star text-pink-300"></i>
         </div>
          <div class="pulse opacity-70" style="position: fixed !important; top: 50vh; left: 5vw; font-size: 5rem; animation-delay: 2s; z-index: -1 !important;">
              💖
          </div>
     </div>

    <script>
        const cursor = document.getElementById('cursor');
        const cursorFollower = document.getElementById('cursor-follower');
        const cosmicBg = document.getElementById('cosmic-bg');
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');

        const quizSection = document.getElementById('quiz-section');
        const gameCompletionSection = document.getElementById('game-completion-section');
        const quizQuestionEl = document.getElementById('quiz-question');
        const quizAnswersEl = document.getElementById('quiz-answers');
        const gameHeartVisualEl = document.getElementById('game-heart-visual');
        const visualHeartIconTextEl = document.getElementById('visual-heart-icon-text');
        const completionMessageEl = gameCompletionSection ? gameCompletionSection.querySelector('.completion-message') : null;
        const bigHeartEl = document.getElementById('big-heart');
        const clickCounterEl = document.getElementById('click-counter');
        const heartBurstContainer = document.getElementById('heart-burst-container');

        const quizData = [
             {
                 question: "Как мы называем в основном друг друга ласково?",
                 options: ["а. Пусички", "б. Бусинки", "в. Змеюшки"],
                 correct: 1
             },
             {
                 question: "Какой фильм первым мы посмотрели вместе (перед камерами)?",
                 options: ["а. Веном 2", "б. 50 оттенков серого", "в. Веном 3"],
                 correct: 2
             },
             {
                 question: "Дата начала наших отношений?",
                 options: ["а. 16.02", "б. 15.02", "в. 16.01"],
                 correct: 0
             }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let clickCount = 0;

        const particles = [];
        let canvas, ctx;

        class Particle {
            constructor() {
                if (!canvas) return;
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                 const angle = Math.random() * Math.PI * 2;
                 const speed = Math.random() * 0.8 + 0.2;
                this.speedX = Math.cos(angle) * speed;
                this.speedY = Math.sin(angle) * speed;
                 const hue = Math.random() * 360;
                 this.color = `hsla(${hue}, 80%, 90%, ${Math.random() * 0.5 + 0.2})`;
            }

            update() {
                if (!canvas) return;
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x > canvas.width) this.x = 0; else if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0; else if (this.y < 0) this.y = canvas.height;
             }

            draw() {
                if (!canvas || !ctx) return;
                ctx.fillStyle = this.color;
                 ctx.shadowBlur = this.size * 2;
                 ctx.shadowColor = this.color;
                 ctx.beginPath();
                 ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                 ctx.fill();
                ctx.shadowBlur = 0;
            }
        }

        function resizeCanvas() {
             canvas = document.getElementById('interactive-canvas');
             if (canvas) {
                ctx = canvas.getContext('2d');
                 canvas.width = window.innerWidth;
                 canvas.height = window.innerHeight;
                 initCanvasParticles();
             }
         }

         function initCanvasParticles() {
              particles.length = 0;
              const particleCount = window.innerWidth < 768 ? 50 : 100;
             if (canvas) {
                 for (let i = 0; i < particleCount; i++) {
                     particles.push(new Particle());
                 }
             }
         }

         function animateParticles() {
             if (!canvas || !ctx) {
                  return;
             }
             ctx.clearRect(0, 0, canvas.width, canvas.height);
             for (let i = 0; i < particles.length; i++) {
                 particles[i].update();
                 particles[i].draw();
             }
              requestAnimationFrame(animateParticles);
         }

        const resizeObserver = new ResizeObserver(() => {
             resizeCanvas();
         });

         let cursorX = 0, cursorY = 0;
         let targetX = 0, targetY = 0;
         let followerX = 0, followerY = 0;

         function animateCursor() {
             document.addEventListener('mousemove', (e) => {
                 targetX = e.clientX;
                 targetY = e.clientY;
             });

             function update() {
                 cursorX += (targetX - cursorX) * 0.1;
                 cursorY += (targetY - cursorY) * 0.1;
                 if (cursor) {
                     cursor.style.left = cursorX + 'px';
                     cursor.style.top = cursorY + 'px';
                 }

                 followerX += (targetX - followerX) * 0.05;
                 followerY += (targetY - followerY) * 0.05;
                 if (cursorFollower) {
                     cursorFollower.style.left = followerX + 'px';
                     cursorFollower.style.top = followerY + 'px';
                 }

                  if (cosmicBg) {
                      cosmicBg.style.setProperty('--mouse-x', followerX / window.innerWidth * 100 + '%');
                      cosmicBg.style.setProperty('--mouse-y', followerY / window.innerHeight * 100 + '%');
                  }

                  requestAnimationFrame(update);
              }

              update();
          }

         document.addEventListener('click', (e) => {
            const ripple = document.createElement('div'); ripple.className = 'click-ripple';
            ripple.style.left = e.clientX + 'px'; ripple.style.top = e.clientY + 'px';
            document.body.appendChild(ripple); setTimeout(() => { ripple.remove(); }, 1000);

            if (cursor && cursorFollower) {
                cursor.style.transform = 'translate(-50%, -50%) scale(0.7)';
                cursorFollower.style.transform = 'translate(-50%, -50%) scale(1.3)';
                setTimeout(() => {
                     cursor.style.transform = 'translate(-50%, -50%) scale(1)';
                     cursorFollower.style.transform = 'translate(-50%, -50%) scale(1)';
                 }, 200);
             }

             const target = e.target;
             const isInteractive = target.closest('button, a, [onclick], .big-heart');
             const numSparkles = isInteractive ? 8 : 3;
             if (!isInteractive || !target.closest('.big-heart')) {
                 for(let i = 0; i < numSparkles; i++) {
                     setTimeout(() => { createSparkle(e.clientX + (Math.random() - 0.5) * 30, e.clientY + (Math.random() - 0.5) * 30); }, i * 40);
                  }
             }
         });

         document.body.addEventListener('mouseenter', (e) => {
             const interactiveElements = e.target.closest('button, a, .glass-card, .principle-item, .music-player, .big-heart, .answer-option');
             if (interactiveElements && cursor && cursorFollower) {
                 cursor.style.width = '15px'; cursor.style.height = '15px';
                 cursorFollower.style.width = '30px'; cursorFollower.style.height = '30px';
                 cursorFollower.style.borderColor = 'rgba(var(--primary-color), 0.8)';
             }
         }, true);

         document.body.addEventListener('mouseleave', (e) => {
              const interactiveElements = e.target.closest('button, a, .glass-card, .principle-item, .music-player, .big-heart, .answer-option');
             if (interactiveElements && !e.relatedTarget.closest('button, a, .glass-card, .principle-item, .music-player, .big-heart, .answer-option')) {
                 if (cursor && cursorFollower) {
                     cursor.style.width = '20px'; cursor.style.height = '20px';
                     cursorFollower.style.width = '40px'; cursorFollower.style.height = '40px';
                     cursorFollower.style.borderColor = 'rgba(255, 255, 255, 0.5)';
                 }
             }
         }, true);

         function createSparkle(x, y) {
             const sparkle = document.createElement('div'); sparkle.className = 'sparkle';
             sparkle.style.width = sparkle.style.height = (Math.random() * 3 + 2) + 'px';
             sparkle.style.left = x + 'px'; sparkle.style.top = y + 'px';
             sparkle.style.animation = `sparkle ${Math.random() * 0.8 + 0.4}s ease-out forwards`;
             document.body.appendChild(sparkle); setTimeout(() => { sparkle.remove(); }, 1200);
         }

         function createLoveBeam() {
            const beamContainer = document.getElementById('love-beam-container'); if (!beamContainer) return;
            const beam = document.createElement('div'); beam.className = 'love-beam';

             const edge = Math.random();
             let rotate = 0;
             let isHorizontal = false;

              if (edge < 0.2) {
                  isHorizontal = true;
                  if (Math.random() < 0.5) {
                       beam.style.left = '0%';
                       rotate = Math.random() * 20 - 10;
                       beam.style.transformOrigin = 'left center';
                  } else {
                      beam.style.left = '100%';
                       rotate = Math.random() * 20 - 10;
                      beam.style.transformOrigin = 'right center';
                   }
                  beam.style.top = Math.random() * 100 + '%';
              } else {
                  beam.style.left = Math.random() * 100 + '%';
                  beam.style.top = '0%';
                  rotate = Math.random() * 30 - 15;
                  beam.style.transformOrigin = 'top center';
              }

            beam.style.setProperty('--beam-rotate', `${rotate}deg`);

             if (isHorizontal) {
                  beam.classList.add('beam-h');
             } else {
                 beam.style.transform = `rotate(${rotate}deg) scaleY(0)`;
             }

             beam.style.animationDelay = Math.random() * 0.5 + 's';
            beamContainer.appendChild(beam);
            setTimeout(() => { beam.remove(); }, 2000 + (parseFloat(beam.style.animationDelay) * 1000));
        }

        function createPetals() {
            const petalsContainer = document.getElementById('petals-container');
            if (!petalsContainer) return;

             const petalCount = window.innerWidth < 768 ? 1 : 3;
             const vh = window.innerHeight;
             const vw = window.innerWidth;

             for (let i = 0; i < petalCount; i++) {
                 const petal = document.createElement('div'); petal.className = 'petal';

                 petal.style.setProperty('--petal-left', `${Math.random() * 100}vw`);
                 petal.style.setProperty('--petal-top', `${Math.random() * -10}vh`);
                 petal.style.setProperty('--initial-rotate', `${Math.random() * 360}deg`);
                 petal.style.setProperty('--petal-scale', `${Math.random() * 0.5 + 0.7}`);

                 petal.style.setProperty('--fall-x-end', `${Math.random() * 100 - 50}px`);
                 petal.style.setProperty('--fall-y-start', `${Math.random() * -20}vh`);
                 petal.style.setProperty('--fall-y-end', `${Math.random() * 20 + 110}vh`);

                 petal.style.animationDuration = Math.random() * 12 + 8 + 's';
                 petal.style.animationDelay = Math.random() * 4 + 's';

                 petal.style.opacity = Math.random() * 0.5 + 0.3;
                 petal.style.backgroundColor = `rgba(var(--primary-color), ${petal.style.opacity})`;

                 petalsContainer.appendChild(petal);

                 const duration = parseFloat(petal.style.animationDuration);
                 const delay = parseFloat(petal.style.animationDelay);
                 setTimeout(() => { petal.remove(); }, (duration + delay) * 1000 + 1000);
             }
         }

        function showPage(pageId) {
             pages.forEach(page => { page.classList.remove('active'); });
             navLinks.forEach(link => { link.classList.remove('active'); });

             const activePage = document.getElementById(pageId);
             const activeNavLink = document.getElementById(`nav-${pageId}`);
             if (activePage) { activePage.classList.add('active'); }
             if (activeNavLink) { activeNavLink.classList.add('active'); }

            stopAllAudio();

             window.scrollTo({top: 0, behavior: 'smooth'});

            const numBeams = window.innerWidth < 768 ? 3 : 5;
             for (let i = 0; i < numBeams; i++) { setTimeout(createLoveBeam, i * 100); }

             if (pageId === 'game') {
                 startGame();
             } else {
                  if (bigHeartEl) {
                        bigHeartEl.classList.remove('active', 'tapping');
                        bigHeartEl.style.opacity = '0';
                        bigHeartEl.style.transform = 'translate(-50%, -50%) scale(0)';
                        bigHeartEl.style.pointerEvents = 'none';
                         bigHeartEl.removeEventListener('click', handleBigHeartClick);
                  }
                   if(gameCompletionSection) gameCompletionSection.classList.add('hidden');
                   if(quizSection) quizSection.classList.remove('hidden');

                   if(gameHeartVisualEl) gameHeartVisualEl.style.display = 'flex';
             }
         }

         function startGame() {
              currentQuestionIndex = 0;
             correctAnswers = 0;
             clickCount = 0;

             if(quizSection) { quizSection.classList.remove('hidden'); quizSection.style.opacity = '1'; }
             if(gameCompletionSection) gameCompletionSection.classList.add('hidden');

             if (gameHeartVisualEl) {
                 gameHeartVisualEl.classList.remove('full', 'heart-beat');
                  gameHeartVisualEl.style.setProperty('--game-heart-fill', `100%`);
                 gameHeartVisualEl.style.filter = `saturate(0.1)`;
                 gameHeartVisualEl.style.boxShadow = `0 0 15px rgba(var(--primary-color), 0.3)`;
                 if(visualHeartIconTextEl) visualHeartIconTextEl.innerHTML = '<i class="fas fa-question text-3xl opacity-80"></i>';
                 gameHeartVisualEl.style.display = 'flex';
              }

             if (bigHeartEl) {
                 bigHeartEl.classList.remove('active', 'tapping');
                 bigHeartEl.style.opacity = '0';
                 bigHeartEl.style.transform = 'translate(-50%, -50%) scale(0)';
                 bigHeartEl.style.pointerEvents = 'none';
                  bigHeartEl.removeEventListener('click', handleBigHeartClick);
             }

              if (clickCounterEl) clickCounterEl.textContent = '0';

              renderQuestion();
         }

         function renderQuestion() {
              if (!quizAnswersEl || !quizQuestionEl || currentQuestionIndex >= quizData.length) {
                  endGame();
                 return;
              }

              const question = quizData[currentQuestionIndex];
             quizQuestionEl.textContent = question.question;
             quizAnswersEl.innerHTML = '';

             question.options.forEach((option, index) => {
                 const button = document.createElement('button');
                 button.className = 'answer-option btn-glow relative';
                  const span = document.createElement('span');
                  span.className = 'relative z-10';
                  span.textContent = option;
                  button.appendChild(span);

                 button.dataset.index = index;
                 button.addEventListener('click', handleAnswerClick);
                 quizAnswersEl.appendChild(button);
             });

               quizAnswersEl.querySelectorAll('.answer-option').forEach(button => {
                  const glow = document.createElement('div');
                   glow.className = 'hover-glow bg-gradient-to-r from-blue-400 to-purple-400 opacity-0';
                  button.appendChild(glow);
               });
          }

           function handleAnswerClick(event) {
                if (!quizAnswersEl || !gameHeartVisualEl) return;

                quizAnswersEl.querySelectorAll('.answer-option').forEach(btn => btn.disabled = true);

               const selectedButton = event.target.closest('.answer-option');
               if (!selectedButton) return;

               const selectedIndex = parseInt(selectedButton.dataset.index, 10);
               const question = quizData[currentQuestionIndex];

               const correctButton = quizAnswersEl.querySelectorAll('.answer-option')[question.correct];

              if (selectedIndex === question.correct) {
                  correctAnswers++;
                  selectedButton.classList.add('quiz-answer-correct');
                   const rect = selectedButton.getBoundingClientRect();
                   const sparkleX = rect.left + rect.width / 2;
                   const sparkleY = rect.top + rect.height / 2;
                   for (let i = 0; i < 8; i++) { setTimeout(() => createSparkle(sparkleX + (Math.random() - 0.5) * 50, sparkleY + (Math.random() - 0.5) * 30), i * 30); }

              } else {
                  selectedButton.classList.add('quiz-answer-wrong');
                  if(correctButton) correctButton.classList.add('quiz-answer-correct');
              }

               updateHeartFill();

               currentQuestionIndex++;

              setTimeout(() => { renderQuestion(); }, 1500);
           }

          function updateHeartFill() {
              if (!gameHeartVisualEl || !visualHeartIconTextEl) return;

             const totalQuestions = quizData.length;
             const fillPercentage = (totalQuestions > 0 ? correctAnswers / totalQuestions : 0);

             const cssFillValue = 100 - (fillPercentage * 100);

             gameHeartVisualEl.style.setProperty('--game-heart-fill', `${cssFillValue}%`);

              gameHeartVisualEl.style.filter = `saturate(${0.1 + fillPercentage * 0.9})`;
              gameHeartVisualEl.style.boxShadow = `0 0 ${15 + fillPercentage * 15}px rgba(var(--primary-color), ${0.3 + fillPercentage * 0.7})`;

             if (fillPercentage === 1) {
                 gameHeartVisualEl.classList.add('full', 'heart-beat');
                  visualHeartIconTextEl.innerHTML = '<i class="fas fa-check-circle text-green-300 text-3xl opacity-90"></i>';
              } else {
                 gameHeartVisualEl.classList.remove('full', 'heart-beat');
                  const currentPercentage = Math.round(fillPercentage * 100);
                  if (totalQuestions > 0 && currentPercentage > 0 && currentPercentage < 100) {
                       visualHeartIconTextEl.innerHTML = `${currentPercentage}%`;
                       visualHeartIconTextEl.style.fontSize = '1.5rem';
                       visualHeartIconTextEl.style.color = 'rgba(255, 255, 255, 0.7)';
                       visualHeartIconTextEl.style.textShadow = 'none';
                  } else if (totalQuestions === 0) {
                       visualHeartIconTextEl.innerHTML = '<i class="fas fa-question text-3xl opacity-80"></i>';
                  } else if (currentPercentage === 0) {
                       visualHeartIconTextEl.innerHTML = '<i class="fas fa-question text-3xl opacity-80"></i>';
                  }
             }
         }

         function endGame() {
             if (!quizSection || !gameCompletionSection || !gameHeartVisualEl || !bigHeartEl || !clickCounterEl) return;

             quizSection.classList.add('hidden');
             gameHeartVisualEl.style.display = 'none';

             if (completionMessageEl) completionMessageEl.textContent = "Думала, это все? Моя любовь безгранична...";
             gameCompletionSection.classList.remove('hidden');

             setTimeout(() => {
                  if (bigHeartEl) {
                       bigHeartEl.classList.add('active');
                  }
              }, 50);

              if (clickCounterEl) clickCounterEl.textContent = '0';
             clickCount = 0;

              bigHeartEl.removeEventListener('click', handleBigHeartClick);
             setTimeout(() => {
                 if(bigHeartEl) bigHeartEl.addEventListener('click', handleBigHeartClick);
             }, 1000);
         }

         function handleBigHeartClick(event) {
             if (!bigHeartEl || !bigHeartEl.classList.contains('active') || !clickCounterEl) {
                 return;
             }

             clickCount++;
             clickCounterEl.textContent = clickCount;

             bigHeartEl.classList.add('tapping');
             setTimeout(() => { bigHeartEl.classList.remove('tapping'); }, 200);

             if(bigHeartEl && event) {
                 const heartRect = bigHeartEl.getBoundingClientRect();
                 const centerX = heartRect.left + heartRect.width / 2;
                 const centerY = heartRect.top + heartRect.height / 2;

                 for (let i = 0; i < 8; i++) {
                     const spread = Math.random() * heartRect.width * 0.15;
                     const angle = Math.random() * Math.PI * 2;
                     const finalX = centerX + Math.cos(angle) * spread;
                     const finalY = centerY + Math.sin(angle) * spread;
                     createSparkle( finalX, finalY );
                  }

                 const numFloatingHearts = Math.random() * 3 + 2;
                 for(let i = 0; i < numFloatingHearts; i++) {
                      createFloatingHeartBurst(centerX, centerY);
                  }
             }
         }

        function createFloatingHeartBurst(originX, originY) {
             const container = heartBurstContainer;
             if (!container) return;

             const heart = document.createElement('div');
             heart.className = 'floating-heart-burst';
             heart.innerHTML = '❤️';

             heart.style.left = `${originX}px`;
             heart.style.top = `${originY}px`;

             const floatDistance = Math.random() * 100 + 50;
             const floatAngle = Math.random() * Math.PI * 2;
             const floatX = Math.cos(floatAngle) * floatDistance;
             const floatY = Math.sin(floatAngle) * floatDistance;

             heart.style.setProperty('--origin-x', '0px');
             heart.style.setProperty('--origin-y', '0px');
             heart.style.setProperty('--float-distance-x', `${floatX}px`);
             heart.style.setProperty('--float-distance-y', `${floatY}px`);

             heart.style.animationDuration = Math.random() * 1.5 + 1 + 's';
             heart.style.animationDelay = Math.random() * 0.2 + 's';
              heart.style.fontSize = (Math.random() * 20 + 10) + 'px';

             container.appendChild(heart);

             setTimeout(() => { heart.remove(); }, parseFloat(heart.style.animationDuration) * 1000 + parseFloat(heart.style.animationDelay) * 1000 + 100);
         }

         function togglePlay(audioId, btnId, overlayBtnId) {
             const audio = document.getElementById(audioId);
             const playBtn = document.getElementById(btnId);
             const overlayPlayBtn = document.getElementById(overlayBtnId);
             if (!audio || !playBtn) return;

            stopAllAudio(audio);

             if (audio.paused || audio.ended) {
                 audio.currentTime = 0;
                 audio.play()
                     .then(() => {
                         playBtn.innerHTML = '<i class="fas fa-pause text-xl"></i>';
                         if (overlayPlayBtn) { overlayPlayBtn.className = 'fas fa-pause text-xl'; }
                          for (let i = 0; i < 15; i++) { setTimeout(() => { createSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight); }, i * 50); }
                     })
                     .catch(error => {
                         console.error("Audio play failed, interaction needed:", error);
                     });
             } else {
                 audio.pause();
                 playBtn.innerHTML = '<i class="fas fa-play text-xl"></i>';
                 if (overlayPlayBtn) { overlayPlayBtn.className = 'fas fa-play text-xl'; }
             }
         }

         function stopAllAudio(excludeAudio = null) {
              document.querySelectorAll('audio').forEach(audio => {
                  if (audio !== excludeAudio && !audio.paused) {
                      audio.pause();
                      audio.currentTime = 0;

                      const buttonId = audio.id.replace('audio', 'playBtn');
                       const overlayButtonId = audio.id.replace('audio', 'overlayPlayBtn');
                       const playBtn = document.getElementById(buttonId);
                       const overlayPlayBtn = document.getElementById(overlayButtonId);

                      if (playBtn) {
                          playBtn.innerHTML = '<i class="fas fa-play text-xl"></i>';
                      }
                      if (overlayPlayBtn) {
                           overlayPlayBtn.className = 'fas fa-play text-xl';
                       }
                  }
              });
         }

         document.querySelectorAll('audio').forEach(audio => {
             audio.addEventListener('ended', function() {
                 const playBtn = document.getElementById(`playBtn${audio.id.slice(5)}`);
                  const overlayBtn = document.getElementById(`overlayPlayBtn${audio.id.slice(5)}`);
                 if (playBtn) { playBtn.innerHTML = '<i class="fas fa-play text-xl"></i>'; }
                  if (overlayBtn) { overlayBtn.className = 'fas fa-play text-xl'; }
                 for(let i = 0; i < 15; i++) { setTimeout(() => { createSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight); }, i * 60); }
             });
         });

         function createConstellation() {
              const constellationContainer = document.getElementById('constellation');
              if (!constellationContainer) return;
              const starCount = window.innerWidth < 768 ? 80 : 150;
               constellationContainer.innerHTML = '';
              for (let i = 0; i < starCount; i++) {
                  const star = document.createElement('div'); star.className = 'star';
                  star.style.width = star.style.height = (Math.random() * 2 + 1) + 'px';
                  star.style.left = Math.random() * 100 + 'vw';
                  star.style.top = Math.random() * 100 + 'vh';
                  star.style.animationDelay = Math.random() * 6 + 's';
                  star.style.animationDuration = Math.random() * 4 + 2 + 's';
                   star.style.opacity = Math.random() * 0.6 + 0.2;
                  constellationContainer.appendChild(star);
              }
         }

         function generateFloatingWords() {
              const words = ['Любовь', 'Навсегда', 'Вместе', 'Дианочка', 'Бусинка', 'Чудо', 'Мечта', 'Счастье', 'Нежность', 'Радость', 'Красота', 'Родная', 'Солнце', 'Улыбка', 'Бусинка', 'Моя', 'Единственная'];
             const wordCount = window.innerWidth < 768 ? 10 : 20;

             document.querySelectorAll('.floating-word').forEach(el => el.remove());

              const body = document.body;
              const vh = window.innerHeight;
              const vw = window.innerWidth;
              const horizontalSafe = vw * 0.1;
              const verticalSafe = vh * 0.1;

              for (let i = 0; i < wordCount; i++) {
                  const word = document.createElement('div'); word.className = 'floating-word'; word.textContent = words[Math.floor(Math.random() * words.length)];

                   let randomX, randomY;
                   let attempts = 0;
                   const maxAttempts = 100;

                  do {
                      randomX = Math.random() * vw;
                      randomY = Math.random() * vh;
                      attempts++;
                   } while (
                      attempts < maxAttempts &&
                      randomX > horizontalSafe && randomX < vw - horizontalSafe &&
                      randomY > verticalSafe && randomY < vh - verticalSafe
                   );

                   if (attempts === maxAttempts) {
                        if(Math.random() < 0.5) randomX = Math.random() * horizontalSafe;
                        else randomX = vw - horizontalSafe + Math.random() * horizontalSafe;
                        if(Math.random() < 0.5) randomY = Math.random() * verticalSafe;
                        else randomY = vh - verticalSafe + Math.random() * verticalSafe;
                   }

                  word.style.left = randomX + 'px'; word.style.top = randomY + 'px';
                 word.style.fontSize = (0.8 + Math.random() * 1.2) + 'rem';
                 word.style.animationDelay = Math.random() * 8 + 's';
                 word.style.animationDuration = 8 + Math.random() * 12 + 's';
                 word.style.whiteSpace = 'nowrap';
                 body.appendChild(word);
             }
         }

         window.onload = function() {
             animateCursor();
             resizeCanvas();
             animateParticles();

             const observeTarget = document.body;
             if(observeTarget) resizeObserver.observe(observeTarget);

              const handleResizeOrLoad = () => {
                  generateFloatingWords();
                 createConstellation();
              };

               let resizeTimer;
               window.addEventListener('resize', () => {
                  clearTimeout(resizeTimer);
                   resizeTimer = setTimeout(handleResizeOrLoad, 250);
               });

              handleResizeOrLoad();

             createPetals();
             setInterval(createPetals, 8000);

             createLoveBeam();
             setInterval(createLoveBeam, 4000);

            showPage('home');

            document.addEventListener('click', function initAudio(e) {
                 const allAudio = document.querySelectorAll('audio');
                 let unlocked = false;
                 allAudio.forEach(audio => {
                      if (audio.readyState < 4 || audio.paused || audio.ended) {
                          audio.volume = 0;
                           audio.play().then(() => {
                               audio.pause();
                               audio.volume = 1;
                              unlocked = true;
                               console.log("Audio context unlocked.");
                           }).catch(error => {
                               console.warn("Audio playback prevented:", error);
                           });
                      } else {
                          unlocked = true;
                      }
                  });

                  if (unlocked) {
                      document.removeEventListener('click', initAudio);
                      console.log("Initial audio listener removed.");
                  }
              }, { once: true });
          };
     </script>
</body>
</html>
